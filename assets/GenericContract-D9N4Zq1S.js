var d=Object.defineProperty;var y=(s,e,a)=>e in s?d(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a;var c=(s,e,a)=>(y(s,typeof e!="symbol"?e+"":e,a),a);import{c as u,A as p,d as i,e as m,s as E,g as h,h as f}from"./index-D_HysZEL.js";class l{constructor(e,a,t,r=u(3e4)){c(this,"parseError",e=>`Error Code: ${e.rejectReason}`);this.moduleRef=e,this.contractName=a,this.paramsSchemaBase64=t,this.maxExecutionEnergy=r}async init(e,a,t,r=i(0)){const n=this.paramsSchemaBase64?{type:"parameter",value:this.paramsSchemaBase64}:void 0;return e.sendTransaction(a,p.InitContract,{amount:r,moduleRef:this.moduleRef,initName:this.contractName,maxContractExecutionEnergy:this.maxExecutionEnergy},t,n)}}class v{constructor(e,a,t,r,n,o=u(6e4)){c(this,"parseError",e=>({message:`Error Code: ${e.rejectReason}`,error:void 0}));c(this,"parseReturnValue",e=>{if(this.outSchemaBase64)return f(e.buffer,h.Buffer.from(this.outSchemaBase64,"base64"))});this.contractName=e,this.entrypoint=a,this.paramsSchemaBase64=t,this.outSchemaBase64=r,this.errorSchemaBase64=n,this.maxExecutionEnergy=o}async update(e,a,t,r,n=i(0)){const o=this.paramsSchemaBase64?{type:"parameter",value:this.paramsSchemaBase64}:void 0;return e.sendTransaction(a,p.Update,{amount:n,contractName:this.contractName,address:t,maxContractExecutionEnergy:this.maxExecutionEnergy,receiveName:m(this.contractName,this.entrypoint)},r,o)}async invoke(e,a,t,r,n=i(0)){const o=t&&E(t,h.Buffer.from(this.paramsSchemaBase64,"base64"));return await e.invokeContract({contract:a,parameter:o||void 0,invoker:r,method:m(this.contractName,this.entrypoint),energy:this.maxExecutionEnergy,amount:n})}}export{l as I,v as R};
